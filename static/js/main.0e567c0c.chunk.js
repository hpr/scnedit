(this.webpackJsonpscnedit=this.webpackJsonpscnedit||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(6),l=n.n(a),i=(n(13),n(8)),s=n(2),o=(n(14),n(7)),u=n.n(o),j=n(0);var d=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(20),l=Object(s.a)(a,2),o=l[0],d=l[1],b=Object(r.useState)([]),h=Object(s.a)(b,2),f=h[0],O=h[1],y=Object(r.useState)(0),p=Object(s.a)(y,2),m=p[0],x=p[1],g=Object(r.useState)(1),v=Object(s.a)(g,2),I=v[0],A=v[1],S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;try{var t=0,r=new DataView(e.buffer),c=Array(I).fill().map((function(e){var n=r.getUint32(t,!1);return t+=4,{size:n}}));c.forEach((function(e){var n=t+e.size;for(e.layerId=r.getUint32(t,!1),e.layerZ=r.getUint32(t+4,!1),t+=8,console.groupCollapsed("layer ".concat(e.layerId," (sz ").concat(e.size,", z ").concat(e.layerZ,"):")),e.tiles=[];t<n;t+=8){var c,a=r.getInt16(t,!1),l=r.getInt16(t+2,!1),s=r.getInt16(t+4,!1),o=r.getInt16(t+6,!1);console.log({autotileIdx:a,tilesetId:l,tileId:s,numTiles:o});var j="#"+u()("".concat(a,",").concat(l,",").concat(s)).toString(16).slice(0,4);(c=e.tiles).push.apply(c,Object(i.a)(Array(o).fill({autotileIdx:a,tilesetId:l,tileId:s,color:j})))}console.groupEnd()})),O(c)}catch(a){alert("".concat(a," (try a different number of layers?)"))}},C=f[m]||{},w=C.tiles?Math.ceil(C.tiles.length/o):0;return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)("input",{type:"file",accept:".scn",onChange:function(e){var t=new FileReader,n=e.target.files[0];t.onload=function(){var e=new Uint8Array(t.result);c(e),S(e)},t.readAsArrayBuffer(n)}}),Object(j.jsx)("div",{children:Object(j.jsx)("label",{htmlFor:"numLayers",children:"Number of layers: "})}),Object(j.jsx)("input",{type:"number",name:"numLayers",value:I,onChange:function(e){return A(Number(e.target.value))}}),Object(j.jsx)("button",{onClick:function(){return S()},children:"Re-calculate layers"}),Object(j.jsx)("div",{children:Object(j.jsx)("label",{htmlFor:"cols",children:"Columns: "})}),Object(j.jsx)("input",{type:"number",name:"cols",value:o,onChange:function(e){return d(Number(e.target.value))}}),Object(j.jsx)("div",{children:Object(j.jsx)("label",{htmlFor:"layer",children:"Selected Layer: "})}),Object(j.jsx)("select",{name:"layer",value:m,onChange:function(e){return x(Number(e.target.value))},children:f.map((function(e,t){return Object(j.jsxs)("option",{value:t,children:[e.layerId," (z = ",e.layerZ,")"]},t)}))}),Object(j.jsx)("table",{children:Object(j.jsx)("tbody",{children:o?Array(w).fill().map((function(e,t){return Object(j.jsx)("tr",{children:Array(o).fill().map((function(e,n){return function(e,t){return e?Object(j.jsxs)("td",{style:{background:e.color},children:[e.autotileIdx,",",e.tilesetId,",",e.tileId]},t):Object(j.jsx)("td",{},t)}(C.tiles[t*o+n],n)}))},t)})):null})})]})})};l.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(d,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.0e567c0c.chunk.js.map