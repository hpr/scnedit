(this.webpackJsonpscnedit=this.webpackJsonpscnedit||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(6),l=n.n(a),o=(n(13),n(8)),s=n(2),i=(n(14),n(7)),u=n.n(i),j=n(0);var d=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=(t[0],t[1]),r=Object(c.useState)(20),a=Object(s.a)(r,2),l=a[0],i=a[1],d=Object(c.useState)([]),b=Object(s.a)(d,2),h=b[0],O=b[1],f=Object(c.useState)(0),g=Object(s.a)(f,2),p=g[0],y=g[1],x=Object(c.useState)(0),v=Object(s.a)(x,2),m=v[0],I=v[1],w=Math.floor(p/l);return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)("input",{type:"file",accept:".scn",onChange:function(e){var t=new FileReader,c=e.target.files[0];t.onload=function(){var e=new Uint8Array(t.result);n(e),function(e){for(var t=0,n=0,c=[];t<e.length-12;){var r=new DataView(e.buffer.slice(t,t+12)),a=r.getUint32(0,!1),l=r.getUint32(4,!1),s=r.getUint32(8,!1),i=t+a+4;t+=12,console.group("layer ".concat(l," (sz ").concat(a,", z ").concat(s,"):"));for(var j=[],d=0;t<i;){var b=new DataView(e.buffer.slice(t,t+8)),f=b.getInt16(0,!1),g=b.getInt16(2,!1),p=b.getInt16(4,!1),x=b.getInt16(6,!1);d+=x,console.log(f,g,p,x);var v="#"+u()("".concat(f,",").concat(g,",").concat(p)).toString(16).slice(0,4);j.push.apply(j,Object(o.a)(Array(x).fill({autotileIdx:f,tilesetId:g,tileId:p,color:v}))),t+=8}c.push({layerId:l,layerZ:s,tiles:j}),d>n&&(n=d),console.groupEnd(),t=i,console.log("i",t,"/",e.length)}O(c),y(n),console.log("layers",h),console.log(n)}(e)},t.readAsArrayBuffer(c)}}),Object(j.jsx)("div",{children:Object(j.jsx)("label",{htmlFor:"cols",children:"Columns: "})}),Object(j.jsx)("input",{type:"number",name:"cols",value:l,onChange:function(e){return i(Number(e.target.value))}}),Object(j.jsx)("div",{children:Object(j.jsx)("label",{htmlFor:"layer",children:"Selected Layer: "})}),Object(j.jsx)("select",{name:"layer",value:m,onChange:function(e){return I(Number(e.target.value))},children:h.map((function(e,t){return Object(j.jsxs)("option",{value:t,children:[e.layerId," (z = ",e.layerZ,")"]},t)}))}),Object(j.jsx)("table",{children:Object(j.jsx)("tbody",{children:l&&Array(w).fill().map((function(e,t){return Object(j.jsx)("tr",{children:Array(l).fill().map((function(e,n){return function(e,t){return e?Object(j.jsxs)("td",{style:{background:e.color},children:[e.autotileIdx,",",e.tilesetId,",",e.tileId]},t):Object(j.jsx)("td",{},t)}(h[m].tiles[t*l+n],n)}))},t)}))})})]})})};l.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(d,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.845e2d2e.chunk.js.map